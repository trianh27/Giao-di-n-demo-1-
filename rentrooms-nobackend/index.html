<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Tìm Trọ Nhanh — No Backend (localStorage)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header class="container">
    <h1>Tìm Trọ Nhanh</h1>
    <p>Không backend — dữ liệu lưu trên trình duyệt (localStorage). CRUD + Lọc + Sắp xếp.</p>
  </header>

  <section class="container filters">
    <div class="field">
      <label>Giá tối đa (triệu): <span id="priceVal">6</span></label>
      <input id="maxPrice" type="range" min="0" max="20" step="0.5" value="6">
    </div>
    <div class="field">
      <label>Khu vực</label>
      <select id="district">
        <option value="">Tất cả</option>
        <option>Q1</option><option>Q3</option><option>Q5</option>
        <option>Q10</option><option>Q11</option><option>Q12</option>
        <option>TP.Thủ Đức</option>
      </select>
    </div>
    <div class="field">
      <label>Từ khoá</label>
      <input id="keyword" type="text" placeholder="vd: ban công, gần ĐH BK, máy lạnh...">
    </div>
    <div class="field">
      <label>Sắp xếp</label>
      <select id="sort">
        <option value="">Mặc định</option>
        <option value="latest">Mới nhất</option>
        <option value="price_asc">Giá tăng dần</option>
        <option value="price_desc">Giá giảm dần</option>
      </select>
    </div>
    <button id="btnSearch">Lọc</button>
    <button id="btnReset" class="ghost">Xoá lọc</button>
    <span id="count" class="muted"></span>
  </section>

  <main class="container grid" id="list"></main>

  <section class="container">
    <h2>Thêm/Sửa phòng</h2>
    <form id="formRoom" class="form">
      <input name="id" type="hidden">
      <input name="title" placeholder="Tiêu đề" required>
      <input name="price" type="number" step="0.1" placeholder="Giá (triệu)" required>
      <input name="district" placeholder="Khu vực (vd: Q10)" required>
      <input name="address" placeholder="Địa chỉ" required>
      <textarea name="description" placeholder="Mô tả"></textarea>
      <div class="row">
        <button type="submit">Lưu</button>
        <button type="button" id="btnCancel" class="ghost">Huỷ</button>
      </div>
    </form>
  </section>

  <section class="container">
    <h2>Sao lưu / Phục hồi</h2>
    <div class="backup">
      <button id="btnExport">Tải JSON</button>
      <label class="import">
        <input id="fileImport" type="file" accept="application/json"> Nhập JSON
      </label>
      <button id="btnSeed" class="ghost">Nạp dữ liệu mẫu</button>
      <button id="btnClear" class="danger">Xoá toàn bộ dữ liệu</button>
    </div>
  </section>

  <template id="card-tpl">
    <article class="card">
      <div class="card-head">
        <h3 class="title"></h3>
        <div class="actions">
          <button class="edit">Sửa</button>
          <button class="danger delete">Xoá</button>
        </div>
      </div>
      <p class="meta"></p>
      <p class="desc"></p>
    </article>
  </template>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>
